#!/usr/bin/env fontforge
# -*- mode: python; coding: utf-8 -*-

import fontforge
import argparse
import os
import re
import string

class FontForgeConvert:
    def __init__(self, args):
        self.args = args
    def run(self):
        self.read()
        self.write()
    def read(self):
        self.font = fontforge.open(self.args.source_filename)
    def write(self):
        if self.args.dest_filename != None:
            for filename in self.args.dest_filename:
                if re.search(r'\.sfd$', filename):
                    print("Saving SFD %s ..." % filename)
                    self.font.save(filename)
                else:
                    print("Generating %s ..." % filename)
                    self.font.generate(filename)

parser = argparse.ArgumentParser(
    description = "convert between font formats"
)

parser.add_argument('source_filename')
parser.add_argument('dest_filename', nargs = '*', default = [])

args = parser.parse_args()
ffc = FontForgeConvert(args)
ffc.run()
