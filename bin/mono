#!/usr/bin/env -S fontforge -quiet
# -*- mode: python; coding: utf-8 -*-
import os, argparse, sys, fontforge
sys.path.append(os.path.dirname(__file__) + "/../lib")
import silence, mymonospace
from myfontutils import u
def main():
    global args
    parser = argparse.ArgumentParser()
    parser.add_argument('filenames', nargs='+')
    args = parser.parse_args()
    for filename in args.filenames:
        try:
            silence.on()
            font = fontforge.open(filename)
            silence.off()
        except OSError as err:
            silence.off()
            if repr(err) == "OSError('Open failed')":
                continue
            sys.stderr.write("=== %s ===" % filename)
            raise err
        if mymonospace.font_is_absolutely_monospace(font):
            print("%s" % filename)
        font.close()

main()
